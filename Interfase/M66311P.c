#include <mega8.h>
#include <delay.h>

//***************************************************************************************
//Обмiн данними з M66311P
//***************************************************************************************
//****************************************************************************************
#define CSKS        PORTB.5  //
#define CSKL        PORTD.5  //
#define A          PORTB.3  //
//****************************************************************************************
//=================================================================
void send_data_M66311P (unsigned int data)
{
    unsigned int mask=32768;
    do
    {   
        CSKS=0;
        CSKL=0;
        delay_us(1);
        if (data & mask) 
        {
            A=1;
        }
        else  
        {
            A=0;
        };
        delay_us(1);
        CSKS=1;
        CSKL=1;
        delay_us(2);
        mask>>=1;
    }
    while (mask);
    
    
}
//=================================================================


